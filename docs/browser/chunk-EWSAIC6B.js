import{$ as d,A as S,B as c,D as n,E as o,F as I,J as s,L as p,N as g,S as f,T as C,_ as F,fa as y,h as l,m,v,w as a,x as u}from"./chunk-WAWHM7R6.js";var P=(()=>{class e{constructor(){this.favoriteField="favorites"}getAllItemsFromLocalStorage(){return localStorage[this.favoriteField]?JSON.parse(localStorage[this.favoriteField]):JSON.parse("[]")}getItemFromLocalStorage(i){let t=this.getAllItemsFromLocalStorage();for(let r of t)if(r.id===i)return r;return null}addItemToLocalStorage(i){let t=this.getAllItemsFromLocalStorage();t.push(i),localStorage[this.favoriteField]=JSON.stringify(t)}removeItemFromLocalStorage(i){let t=this.getAllItemsFromLocalStorage();for(let r of t)if(r.id===i){t.splice(t.indexOf(r),1);break}localStorage[this.favoriteField]=JSON.stringify(t)}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var x=(()=>{class e{constructor(i){this.localStorageService=i}toggleFavorite(){this.localStorageService.getItemFromLocalStorage(this.pictureInfo.id)?this.localStorageService.removeItemFromLocalStorage(this.pictureInfo.id):this.localStorageService.addItemToLocalStorage(this.pictureInfo)}static{this.\u0275fac=function(t){return new(t||e)(u(P))}}static{this.\u0275cmp=m({type:e,selectors:[["app-add-favorite"]],inputs:{pictureInfo:"pictureInfo"},standalone:!0,features:[f],decls:2,vars:0,consts:[[1,"favorite",3,"click"],["src","../../../assets/favorite.png","alt","favorite",1,"favorite__image"]],template:function(t,r){t&1&&(n(0,"button",0),s("click",function(){return r.toggleFavorite()}),I(1,"img",1),o())},dependencies:[d],styles:[".favorite[_ngcontent-%COMP%]{background-color:#fff;border:none;width:40px;height:40px;cursor:pointer;border-radius:20px;display:flex;justify-content:center;align-items:center}.favorite__image[_ngcontent-%COMP%]{width:15px;height:20px}.favorite[_ngcontent-%COMP%]:hover, .favorite[_ngcontent-%COMP%]:active{background-color:#fccc9c}"]})}}return e})();var b=(()=>{class e{constructor(){this.linkPictures="https://www.artic.edu/iiif/2",this.defaultImageSrc="../../../assets/museum.png"}getImageSrc(i,t){return`${this.linkPictures}/${i}/full/${t.width},${t.height}/0/default.jpg`}onImageSrcError(){return this.defaultImageSrc}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var L=e=>({pictureId:e});function E(e,M){e&1&&(n(0,"span",7),p(1," Public "),o())}function T(e,M){e&1&&(n(0,"span",7),p(1," Private "),o())}var R=(()=>{class e{constructor(i){this.imageService=i,this.imageSrc=""}ngOnInit(){this.imageSrc=this.imageService.getImageSrc(this.picture.image_id,{width:60,height:60}),this.picture.title.length>18&&(this.picture.title=this.picture.title.slice(0,18)+"...")}onImageSrcError(){this.imageSrc=this.imageService.onImageSrcError()}static{this.\u0275fac=function(t){return new(t||e)(u(b))}}static{this.\u0275cmp=m({type:e,selectors:[["app-picture"]],inputs:{picture:"picture"},standalone:!0,features:[f],decls:10,vars:9,consts:[["routerLink","/home/detail-info",1,"picture",3,"queryParams"],["alt","picture",1,"picture__image",3,"error","src"],[1,"picture__description"],[1,"picture__description__title"],[1,"picture__description__author-title"],["class","picture__description__public",4,"ngIf"],[1,"favorite",3,"click","pictureInfo"],[1,"picture__description__public"]],template:function(t,r){t&1&&(n(0,"div",0)(1,"img",1),s("error",function(){return r.onImageSrcError()}),o(),n(2,"div",2)(3,"span",3),p(4),o(),n(5,"span",4),p(6),o(),S(7,E,2,0,"span",5)(8,T,2,0,"span",5),o(),n(9,"app-add-favorite",6),s("click",function(O){return O.stopPropagation()}),o()()),t&2&&(c("queryParams",C(7,L,r.picture.id)),a(),c("src",r.imageSrc,v),a(3),g(" ",r.picture.title,""),a(2),g(" ",r.picture.artist_title,""),a(),c("ngIf",r.picture.is_public_domain),a(),c("ngIf",!r.picture.is_public_domain),a(),c("pictureInfo",r.picture))},dependencies:[x,y,d,F],styles:[".picture[_ngcontent-%COMP%]{cursor:pointer;width:300px;height:100px;background-color:#fff;display:flex;flex-direction:row;align-items:center;gap:20px;position:relative;transition:transform .2s ease}.picture__image[_ngcontent-%COMP%]{border:1px solid #e2ac5a;margin-left:1em;height:60px;width:60px}.picture__description[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:1rem}.picture__description__author-title[_ngcontent-%COMP%]{color:#e2ac5a;font-size:.75rem}.picture__description__public[_ngcontent-%COMP%]{font-weight:700}.picture[_ngcontent-%COMP%]   .favorite[_ngcontent-%COMP%]{margin-left:auto;margin-right:1em}.picture[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]})}}return e})();export{P as a,x as b,b as c,R as d};
