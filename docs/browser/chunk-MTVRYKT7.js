import{a as Fe}from"./chunk-R5CAU7TC.js";import{a as O}from"./chunk-KJ4NWC3S.js";import{b as Ee,c as z,d as Ae}from"./chunk-EWSAIC6B.js";import{$ as _,A as f,B as c,C as ve,D as s,E as o,F as v,G as y,H as C,I as j,J as h,K as V,L as d,M as $,N as E,O as ye,P as Ce,Q as Ve,R as oe,S as g,T as x,U as be,V as Me,W as De,X as se,Y as we,Z as b,_ as M,a as w,b as A,d as pe,e as me,f as fe,fa as q,g as ee,h as N,i as te,j as S,l as L,m,n as ie,o as I,p as ge,q as k,r as T,s as _e,t as ne,u as F,v as W,w as a,x as l,y as re,z as G}from"./chunk-WAWHM7R6.js";var Z=(()=>{class e{constructor(){this.tempPageField="tempPage"}getTempPage(){return sessionStorage[this.tempPageField]?sessionStorage.getItem(this.tempPageField):"1"}setTempPage(i){sessionStorage.setItem(this.tempPageField,i.toString())}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ot=e=>({active:e});function st(e,t){if(e&1){let i=j();s(0,"button",4),h("click",function(){k(i);let r=V();return T(r.switchPagesLeft())}),o()}}function at(e,t){if(e&1){let i=j();y(0),s(1,"button",5),h("click",function(){let r=k(i).$implicit,u=V();return T(u.switchPage(r))}),d(2),o(),C()}if(e&2){let i=t.$implicit,n=V();a(),c("ngClass",x(2,ot,n.tempPage===i)),a(),E(" ",i," ")}}var Ie=(()=>{class e{constructor(i){this.sessionStorageService=i,this.pageNumberEvent=new F(!0),this.pagesNumber=[1,2,3,4],this.tempPage=+this.sessionStorageService.getTempPage()}switchPage(i){this.pageNumberEvent.emit(i),this.tempPage=i,this.sessionStorageService.setTempPage(this.tempPage)}switchPagesLeft(){this.pagesNumber=this.pagesNumber.map(i=>i-1)}switchPagesRight(){this.pagesNumber=this.pagesNumber.map(i=>i+1)}static{this.\u0275fac=function(n){return new(n||e)(l(Z))}}static{this.\u0275cmp=m({type:e,selectors:[["app-pages-switcher"]],outputs:{pageNumberEvent:"pageNumberEvent"},standalone:!0,features:[g],decls:4,vars:2,consts:[[1,"pages-switcher"],["class","pages-switcher__left",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pages-switcher__right",3,"click"],[1,"pages-switcher__left",3,"click"],[1,"pages-switcher__page-number",3,"click","ngClass"]],template:function(n,r){n&1&&(s(0,"div",0),f(1,st,1,0,"button",1)(2,at,3,4,"ng-container",2),s(3,"button",3),h("click",function(){return r.switchPagesRight()}),o()()),n&2&&(a(),c("ngIf",r.pagesNumber[0]>1),a(),c("ngForOf",r.pagesNumber))},dependencies:[_,we,b,M],styles:[".pages-switcher[_ngcontent-%COMP%]{margin-top:4em;display:flex;flex-direction:row;gap:1em;align-items:center;justify-content:center;z-index:0}.pages-switcher__left[_ngcontent-%COMP%]{cursor:pointer;width:15px;height:20px;border:none;clip-path:polygon(0% 50%,100% 0%,100% 100%);background-color:#f17900}.pages-switcher__page-number[_ngcontent-%COMP%]{cursor:pointer;width:2em;height:2em;align-items:center;text-align:center;border:none;background-color:#fafafa}.pages-switcher__page-number.active[_ngcontent-%COMP%], .pages-switcher__page-number[_ngcontent-%COMP%]:hover{color:#fff;background-color:#f17900;border-radius:.2em}.pages-switcher__right[_ngcontent-%COMP%]{cursor:pointer;width:15px;height:20px;border:none;clip-path:polygon(0% 0%,100% 50%,0% 100%);background-color:#f17900}.pages-switcher__right[_ngcontent-%COMP%]:hover, .pages-switcher__left[_ngcontent-%COMP%]:hover{background-color:#cf6800}"]})}}return e})();function lt(e,t){if(e&1&&(y(0),v(1,"app-picture",2),C()),e&2){let i=t.$implicit;a(),c("picture",i)}}var Oe=(()=>{class e{constructor(i){this.apiService=i}ngOnInit(){this.apiService.getOtherPictures().subscribe(i=>{this.otherWorks=i.data})}static{this.\u0275fac=function(n){return new(n||e)(l(O))}}static{this.\u0275cmp=m({type:e,selectors:[["app-other-works"]],standalone:!0,features:[g],decls:2,vars:1,consts:[[1,"other-works"],[4,"ngFor","ngForOf"],[3,"picture"]],template:function(n,r){n&1&&(s(0,"div",0),f(1,lt,2,1,"ng-container",1),o()),n&2&&(a(),c("ngForOf",r.otherWorks))},dependencies:[Ae,_,b],styles:[".other-works[_ngcontent-%COMP%]{margin-top:1.5em;display:grid;grid-template-columns:repeat(3,1fr);gap:20px}@media (min-width: 769px) and (max-width: 1280px){.other-works[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.other-works[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}"]})}}return e})();var ut=e=>({pictureId:e});function dt(e,t){e&1&&(s(0,"span",8),d(1," Public "),o())}function ht(e,t){e&1&&(s(0,"span",8),d(1," Private "),o())}var Pe=(()=>{class e{constructor(i){this.imageService=i,this.imageSrc=""}ngOnInit(){this.imageSrc=this.imageService.getImageSrc(this.picture.image_id,{width:300,height:400})}onImageSrcError(){this.imageSrc=this.imageService.onImageSrcError()}static{this.\u0275fac=function(n){return new(n||e)(l(z))}}static{this.\u0275cmp=m({type:e,selectors:[["app-picture-page"]],inputs:{picture:"picture"},standalone:!0,features:[g],decls:11,vars:9,consts:[["routerLink","/home/detail-info",1,"picture-page",3,"queryParams"],["alt","picture",1,"picture-page__image",3,"error","src"],[1,"picture-page__description"],[1,"picture-page__description__text"],[1,"picture-page__description__text__title"],[1,"picture-page__description__text__author-title"],["class","picture-page__description__text__public",4,"ngIf"],[1,"favorite",3,"click","pictureInfo"],[1,"picture-page__description__text__public"]],template:function(n,r){n&1&&(s(0,"div",0)(1,"img",1),h("error",function(){return r.onImageSrcError()}),o(),s(2,"div",2)(3,"div",3)(4,"span",4),d(5),o(),s(6,"span",5),d(7),o(),f(8,dt,2,0,"span",6)(9,ht,2,0,"span",6),o(),s(10,"app-add-favorite",7),h("click",function(p){return p.stopPropagation()}),o()()()),n&2&&(c("queryParams",x(7,ut,r.picture.id)),a(),c("src",r.imageSrc,W),a(4),E(" ",r.picture.title,""),a(2),E(" ",r.picture.artist_title,""),a(),c("ngIf",r.picture.is_public_domain),a(),c("ngIf",!r.picture.is_public_domain),a(),c("pictureInfo",r.picture))},dependencies:[Ee,q,_,M],styles:[".picture-page[_ngcontent-%COMP%]{cursor:pointer;display:flex;flex-direction:column;align-items:center;position:relative;z-index:3;transition:transform .2s ease}.picture-page__image[_ngcontent-%COMP%]{width:300px;height:400px;border:1px solid #e2ac5a}@media (min-width: 769px) and (max-width: 1280px){.picture-page__image[_ngcontent-%COMP%]{width:240px;height:320px}}.picture-page__description[_ngcontent-%COMP%]{margin-top:350px;width:250px;height:100px;background-color:#fff;position:absolute;display:flex;flex-direction:row;font-size:1rem;align-items:center;border:1px #dbd9d9 solid}@media (min-width: 769px) and (max-width: 1280px){.picture-page__description[_ngcontent-%COMP%]{width:200px;height:80px;margin-top:280px;font-size:.75rem}}@media (max-width: 768px){.picture-page__description[_ngcontent-%COMP%]{margin-top:330px}}.picture-page__description__text[_ngcontent-%COMP%]{margin-left:1em;display:flex;flex-direction:column}.picture-page__description__text__title[_ngcontent-%COMP%]{font-weight:700}.picture-page__description__text__author-title[_ngcontent-%COMP%]{color:#e2ac5a;margin-bottom:1em;font-size:.75rem}.picture-page__description__text__public[_ngcontent-%COMP%]{font-weight:700}.picture-page__description[_ngcontent-%COMP%]   .favorite[_ngcontent-%COMP%]{margin-left:auto;margin-right:1em}.picture-page[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]})}}return e})();var Ue=(()=>{class e{constructor(i,n){this._renderer=i,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(i,n){this._renderer.setProperty(this._elementRef.nativeElement,i,n)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}static{this.\u0275fac=function(n){return new(n||e)(l(re),l(ne))}}static{this.\u0275dir=I({type:e})}}return e})(),pt=(()=>{class e extends Ue{static{this.\u0275fac=(()=>{let i;return function(r){return(i||(i=_e(e)))(r||e)}})()}static{this.\u0275dir=I({type:e,features:[G]})}}return e})(),He=new S("");var mt={provide:He,useExisting:ee(()=>J),multi:!0};function ft(){let e=se()?se().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var gt=new S(""),J=(()=>{class e extends Ue{constructor(i,n,r){super(i,n),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ft())}writeValue(i){let n=i??"";this.setProperty("value",n)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}static{this.\u0275fac=function(n){return new(n||e)(l(re),l(ne),l(gt,8))}}static{this.\u0275dir=I({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&h("input",function(p){return r._handleInput(p.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(p){return r._compositionEnd(p.target.value)})},features:[oe([mt]),G]})}}return e})();var _t=new S(""),vt=new S("");function Le(e){return e!=null}function We(e){return be(e)?pe(e):e}function $e(e){let t={};return e.forEach(i=>{t=i!=null?w(w({},t),i):t}),Object.keys(t).length===0?null:t}function qe(e,t){return t.map(i=>i(e))}function yt(e){return!e.validate}function ze(e){return e.map(t=>yt(t)?t:i=>t.validate(i))}function Ct(e){if(!e)return null;let t=e.filter(Le);return t.length==0?null:function(i){return $e(qe(i,t))}}function Ze(e){return e!=null?Ct(ze(e)):null}function Vt(e){if(!e)return null;let t=e.filter(Le);return t.length==0?null:function(i){let n=qe(i,t).map(We);return fe(n).pipe(me($e))}}function Xe(e){return e!=null?Vt(ze(e)):null}function Ne(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function bt(e){return e._rawValidators}function Mt(e){return e._rawAsyncValidators}function ae(e){return e?Array.isArray(e)?e:[e]:[]}function Y(e,t){return Array.isArray(e)?e.includes(t):e===t}function ke(e,t){let i=ae(t);return ae(e).forEach(r=>{Y(i,r)||i.push(r)}),i}function Te(e,t){return ae(t).filter(i=>!Y(e,i))}var K=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ze(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Xe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,i){return this.control?this.control.hasError(t,i):!1}getError(t,i){return this.control?this.control.getError(t,i):null}},le=class extends K{get formDirective(){return null}get path(){return null}},H=class extends K{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ce=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Dt={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ii=A(w({},Dt),{"[class.ng-submitted]":"isSubmitted"}),Ye=(()=>{class e extends ce{constructor(i){super(i)}static{this.\u0275fac=function(n){return new(n||e)(l(H,2))}}static{this.\u0275dir=I({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&ve("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[G]})}}return e})();var B="VALID",X="INVALID",P="PENDING",U="DISABLED";function wt(e){return(Q(e)?e.validators:e)||null}function Ft(e){return Array.isArray(e)?Ze(e):e||null}function Et(e,t){return(Q(t)?t.asyncValidators:e)||null}function At(e){return Array.isArray(e)?Xe(e):e||null}function Q(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var ue=class{constructor(t,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===B}get invalid(){return this.status===X}get pending(){return this.status==P}get disabled(){return this.status===U}get enabled(){return this.status!==U}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(ke(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ke(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Te(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Te(t,this._rawAsyncValidators))}hasValidator(t){return Y(this._rawValidators,t)}hasAsyncValidator(t){return Y(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=P,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=U,this.errors=null,this._forEachChild(n=>{n.disable(A(w({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(A(w({},t),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=B,this._forEachChild(n=>{n.enable(A(w({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(A(w({},t),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===B||this.status===P)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?U:B}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=P,this._hasOwnPendingAsyncValidator=!0;let i=We(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(i.emitEvent!==!1)}get(t){let i=t;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,r)=>n&&n._find(r),this)}getError(t,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new F,this.statusChanges=new F}_calculateStatus(){return this._allControlsDisabled()?U:this.errors?X:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(P)?P:this._anyControlsHaveStatus(X)?X:B}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Q(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let i=this._parent&&this._parent.dirty;return!t&&!!i&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Ft(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=At(this._rawAsyncValidators)}};var Ke=new S("CallSetDisabledState",{providedIn:"root",factory:()=>de}),de="always";function St(e,t){return[...t.path,e]}function It(e,t,i=de){Ot(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||i==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),Pt(e,t),kt(e,t),Nt(e,t),xt(e,t)}function Ge(e,t){e.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function xt(e,t){if(t.valueAccessor.setDisabledState){let i=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}function Ot(e,t){let i=bt(e);t.validator!==null?e.setValidators(Ne(i,t.validator)):typeof i=="function"&&e.setValidators([i]);let n=Mt(e);t.asyncValidator!==null?e.setAsyncValidators(Ne(n,t.asyncValidator)):typeof n=="function"&&e.setAsyncValidators([n]);let r=()=>e.updateValueAndValidity();Ge(t._rawValidators,r),Ge(t._rawAsyncValidators,r)}function Pt(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&Je(e,t)})}function Nt(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&Je(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function Je(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function kt(e,t){let i=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}function Tt(e,t){if(!e.hasOwnProperty("model"))return!1;let i=e.model;return i.isFirstChange()?!0:!Object.is(t,i.currentValue)}function Gt(e){return Object.getPrototypeOf(e.constructor)===pt}function jt(e,t){if(!t)return null;Array.isArray(t);let i,n,r;return t.forEach(u=>{u.constructor===J?i=u:Gt(u)?n=u:r=u}),r||n||i||null}function je(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function Re(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Rt=class extends ue{constructor(t=null,i,n){super(wt(i),Et(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Q(i)&&(i.nonNullable||i.initialValueIsDefault)&&(Re(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){je(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){je(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Re(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Bt={provide:H,useExisting:ee(()=>he)},Be=Promise.resolve(),he=(()=>{class e extends H{constructor(i,n,r,u,p,rt){super(),this._changeDetectorRef=p,this.callSetDisabledState=rt,this.control=new Rt,this._registered=!1,this.name="",this.update=new F,this._parent=i,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=jt(this,u)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let n=i.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),Tt(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){It(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){Be.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let n=i.isDisabled.currentValue,r=n!==0&&De(n);Be.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?St(i,this._parent):[i]}static{this.\u0275fac=function(n){return new(n||e)(l(le,9),l(_t,10),l(vt,10),l(He,10),l(Me,8),l(Ke,8))}}static{this.\u0275dir=I({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[L.None,"disabled","isDisabled"],model:[L.None,"ngModel","model"],options:[L.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[oe([Bt]),G,ge]})}}return e})();var Ut=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=te({})}}return e})();var Qe=(()=>{class e{static withConfig(i){return{ngModule:e,providers:[{provide:Ke,useValue:i.callSetDisabledState??de}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=te({imports:[Ut]})}}return e})();function Lt(e,t){if(e&1){let i=j();y(0),s(1,"button",6),h("click",function(){let r=k(i).$implicit,u=V(2);return T(u.chooseOption(r))}),d(2),o(),C()}if(e&2){let i=t.$implicit;a(2),$(i)}}function Wt(e,t){if(e&1&&(s(0,"div",4),f(1,Lt,3,1,"ng-container",5),o()),e&2){let i=V();a(),c("ngForOf",i.options)}}var et=(()=>{class e{constructor(){this.optionEvent=new F(!0),this.isMenuOpen=!1,this.options=["by alphabet","by date"]}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}chooseOption(i){this.optionEvent.emit(i)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=m({type:e,selectors:[["app-filter-menu"]],outputs:{optionEvent:"optionEvent"},standalone:!0,features:[g],decls:4,vars:1,consts:[[1,"filter-menu"],[1,"filter-menu__button",3,"click"],["src","../../../assets/filter.png","alt","filter",1,"filter-menu__button__filter"],["class","filter-menu__options",4,"ngIf"],[1,"filter-menu__options"],[4,"ngFor","ngForOf"],[1,"filter-menu__options__option",3,"click"]],template:function(n,r){n&1&&(s(0,"div",0)(1,"button",1),h("click",function(){return r.toggleMenu()}),v(2,"img",2),o(),f(3,Wt,2,1,"div",3),o()),n&2&&(a(3),c("ngIf",r.isMenuOpen))},dependencies:[_,b,M],styles:[".filter-menu[_ngcontent-%COMP%]{cursor:pointer;display:flex;flex-direction:column}.filter-menu__button[_ngcontent-%COMP%]{cursor:pointer;border:none}.filter-menu__button__filter[_ngcontent-%COMP%]{width:2em;height:1.8em}.filter-menu__options[_ngcontent-%COMP%]{z-index:3;display:flex;flex-direction:column;position:absolute;margin-top:2.5em;background-color:#f0f0f0}.filter-menu__options__option[_ngcontent-%COMP%]{cursor:pointer;width:150px;text-align:center;border:1px rgb(173,173,173) solid;font-size:1.25rem}.filter-menu__options__option[_ngcontent-%COMP%]:active, .filter-menu__button[_ngcontent-%COMP%]:active{background-color:#b9b8b8}"]})}}return e})();var $t=e=>({pictureId:e}),tt=(()=>{class e{constructor(i){this.imageService=i,this.imageSrc=""}ngOnInit(){this.getImageSrc()}getImageSrc(){this.imageSrc=this.imageService.getImageSrc(this.itemInfo.image_id,{width:40,height:40})}onImageSrcError(){this.imageSrc=this.imageService.onImageSrcError()}static{this.\u0275fac=function(n){return new(n||e)(l(z))}}static{this.\u0275cmp=m({type:e,selectors:[["app-search-item"]],inputs:{itemInfo:"itemInfo"},standalone:!0,features:[g],decls:4,vars:5,consts:[["routerLink","/home/detail-info",1,"search-item",3,"queryParams"],["alt","picture",1,"search-item__image",3,"error","src"],[1,"search-item__title"]],template:function(n,r){n&1&&(s(0,"div",0)(1,"img",1),h("error",function(){return r.onImageSrcError()}),o(),s(2,"span",2),d(3),o()()),n&2&&(c("queryParams",x(3,$t,r.itemInfo.id)),a(),c("src",r.imageSrc,W),a(2),E(" ",r.itemInfo.title," "))},dependencies:[q],styles:[".search-item[_ngcontent-%COMP%]{cursor:pointer;display:flex;flex-direction:row;align-items:center;border-bottom:1px solid white;background-color:#f0f0f0;gap:1em}.search-item__image[_ngcontent-%COMP%]{margin-left:1em}"]})}}return e})();var it=(()=>{class e{constructor(){}filterByAlphabet(i){return i.sort((n,r)=>n.title<r.title?-1:n.title>r.title?1:0)}filterByDate(i){return i.sort((n,r)=>new Date(n.timestamp).getTime()-new Date(r.timestamp).getTime())}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function zt(e,t){if(e&1&&(s(0,"div",6),d(1),o()),e&2){let i=V();a(),$(i.searchError)}}function Zt(e,t){if(e&1&&(y(0),s(1,"div",9),v(2,"app-search-item",10),o(),C()),e&2){let i=t.$implicit;a(2),c("itemInfo",i)}}function Xt(e,t){if(e&1&&(s(0,"div",7),f(1,Zt,3,1,"ng-container",8),o()),e&2){let i=V();a(),c("ngForOf",i.inputResult)}}var nt=(()=>{class e{constructor(i,n){this.apiService=i,this.filterService=n,this.inputResult=[],this.inputValue="",this.searchError="",this.searchFilterOption="",this.searchTimer=0}getFilterOption(i){this.searchFilterOption=i}removeFilterOption(){this.searchFilterOption=""}onSearch(){clearTimeout(this.searchTimer),this.searchTimer=setTimeout(()=>{if(!this.inputValue){this.inputResult=[];return}if(this.inputValue.length<2){this.searchError="Input value must be more than 2 characters length",this.inputResult=[];return}this.apiService.searchByPictureName(this.inputValue).subscribe(i=>{i.data.length>0&&i.data?(this.searchError="",this.searchFilterOption==="by alphabet"?this.inputResult=this.filterService.filterByAlphabet(i.data):this.searchFilterOption==="by date"?this.inputResult=this.filterService.filterByDate(i.data):this.inputResult=i.data):(this.inputResult=[],this.searchError="No results")})},500)}static{this.\u0275fac=function(n){return new(n||e)(l(O),l(it))}}static{this.\u0275cmp=m({type:e,selectors:[["app-search"]],standalone:!0,features:[g],decls:6,vars:3,consts:[[1,"search"],[1,"search__string"],["type","text","placeholder","Search Art, Artist, Work...",1,"search__string__input",3,"ngModelChange","input","ngModel"],[1,"filter",3,"optionEvent"],["class","search__error",4,"ngIf"],["class","search__result",4,"ngIf"],[1,"search__error"],[1,"search__result"],[4,"ngFor","ngForOf"],[1,"search__result__item"],[3,"itemInfo"]],template:function(n,r){n&1&&(s(0,"div",0)(1,"div",1)(2,"input",2),Ve("ngModelChange",function(p){return Ce(r.inputValue,p)||(r.inputValue=p),p}),h("input",function(){return r.onSearch()}),o(),s(3,"app-filter-menu",3),h("optionEvent",function(p){return r.getFilterOption(p)}),o()(),f(4,zt,2,1,"div",4)(5,Xt,2,1,"div",5),o()),n&2&&(a(2),ye("ngModel",r.inputValue),a(2),c("ngIf",r.searchError),a(),c("ngIf",r.inputResult&&r.inputValue.length>2))},dependencies:[_,b,M,tt,et,Qe,J,Ye,he],styles:[".search[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:40em;background-color:#f0f0f0;border-radius:1em;margin-bottom:10em}@media (min-width: 769px) and (max-width: 1280px){.search[_ngcontent-%COMP%]{width:30em}}@media (max-width: 768px){.search[_ngcontent-%COMP%]{width:20em}}.search__string[_ngcontent-%COMP%]{height:3em;display:flex;flex-direction:row;border-radius:1em;align-items:center}.search__string__input[_ngcontent-%COMP%]{width:100%;margin-left:1em;margin-right:auto;border:none;background-color:#f0f0f0;outline:none}.search__string[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{margin-right:1em}.search__string__image[_ngcontent-%COMP%]{width:2em;height:2em}.search__result[_ngcontent-%COMP%]{width:100%;position:relative;border-bottom-left-radius:1em;border-bottom-right-radius:1em;overflow:hidden}"]})}}return e})();function Yt(e,t){e&1&&(s(0,"div",13),v(1,"div",14),o())}function Kt(e,t){if(e&1&&(y(0),v(1,"app-picture-page",15),C()),e&2){let i=t.$implicit;a(),c("picture",i)}}var Qi=(()=>{class e{constructor(i,n,r){this.homeService=i,this.apiService=n,this.sessionStorageService=r,this.currentPagePictures=[],this.isGalleryLoading=!0}ngOnInit(){this.homeService.changeIsHomeComponent(!0),this.getPage(+this.sessionStorageService.getTempPage())}ngOnDestroy(){this.homeService.changeIsHomeComponent(!1)}getPage(i){this.isGalleryLoading=!0,this.currentPagePictures=[],this.apiService.getPage(i).subscribe(n=>{this.isGalleryLoading=!1,this.currentPagePictures=n.data,this.currentPagePictures=this.currentPagePictures.map(r=>(r.title=r.title.length>20?r.title.slice(0,20)+"...":r.title,r))})}static{this.\u0275fac=function(n){return new(n||e)(l(Fe),l(O),l(Z))}}static{this.\u0275cmp=m({type:e,selectors:[["app-home"]],standalone:!0,features:[g],decls:22,vars:2,consts:[[1,"home"],[1,"home__header"],[1,"home__header__art"],[1,"home__gallery"],[1,"home__gallery__topics"],[1,"home__gallery__special-gallery"],[1,"home__gallery__pictures"],["class","home__gallery__pictures__loading",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pages-switcher",3,"pageNumberEvent"],[1,"home__another-works"],[1,"home__another-works__header-other"],[1,"home__another-works__other-works"],[1,"home__gallery__pictures__loading"],[1,"home__gallery__pictures__loading__loader"],[3,"picture"]],template:function(n,r){n&1&&(s(0,"main",0)(1,"h1",1),d(2," Let's find some "),s(3,"span",2),d(4,"Art"),o(),d(5," Here! "),o(),v(6,"app-search"),s(7,"div",3)(8,"span",4),d(9,"Topics for you"),o(),s(10,"span",5),d(11,"Our special gallery"),o(),s(12,"div",6),f(13,Yt,2,0,"div",7)(14,Kt,2,1,"ng-container",8),o(),s(15,"app-pages-switcher",9),h("pageNumberEvent",function(p){return r.getPage(p)}),o()(),s(16,"div",10)(17,"span",11),d(18,"Here some more"),o(),s(19,"span",12),d(20,"Other works for you"),o(),v(21,"app-other-works"),o()()),n&2&&(a(13),c("ngIf",r.isGalleryLoading),a(),c("ngForOf",r.currentPagePictures))},dependencies:[_,b,M,Ie,Oe,nt,Pe],styles:[".home[_ngcontent-%COMP%]{margin:0 15em;display:flex;flex-direction:column;align-items:center}@media (min-width: 769px) and (max-width: 1280px){.home[_ngcontent-%COMP%]{margin:0 7em}}@media (max-width: 768px){.home[_ngcontent-%COMP%]{margin:0}}.home__header[_ngcontent-%COMP%]{text-align:center;max-width:10em;margin-top:1.5em;font-size:4rem}@media (max-width: 768px){.home__header[_ngcontent-%COMP%]{font-size:2.5rem}}.home__header__art[_ngcontent-%COMP%]{color:#f17900}.home__gallery[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.home__gallery__topics[_ngcontent-%COMP%]{color:#e2ac5a}.home__gallery__special-gallery[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.home__gallery__pictures[_ngcontent-%COMP%]{margin-top:2em;display:flex;flex-direction:row;justify-content:center;gap:4em}@media (min-width: 769px) and (max-width: 1280px){.home__gallery__pictures[_ngcontent-%COMP%]{gap:1em}}@media (max-width: 768px){.home__gallery__pictures[_ngcontent-%COMP%]{flex-direction:column}}.home__gallery__pictures__loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:400px;width:900px;background:#0000001a}.home__gallery__pictures__loading__loader[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.home__gallery[_ngcontent-%COMP%]   .pages-switcher[_ngcontent-%COMP%]{margin-left:auto}@media (max-width: 768px){.home__gallery[_ngcontent-%COMP%]   .pages-switcher[_ngcontent-%COMP%]{margin:0 auto}}.home__another-works[_ngcontent-%COMP%]{margin-top:5em;display:flex;flex-direction:column;align-items:center}.home__another-works__header-other[_ngcontent-%COMP%]{font-size:1rem;color:#e2ac5a}.home__another-works__other-works[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}"]})}}return e})();export{Qi as HomeComponent};
